!function(t){t.fn.dndPageScroll=function(o){o||(o={});var e={topId:"top_scroll_page",bottomId:"bottom_scroll_page",delay:50,height:40},o=t.extend(e,o),n=t("#"+o.topId);n.length||(n=t('<div id="top_scroll_page">&nbsp;</div>').appendTo(t("#canvas")));var r=t("#"+o.bottomId);r.length||(r=t('<div id="bottom_scroll_page">&nbsp;</div>').appendTo(t("#canvas")));var a=t("#top_scroll_page, #bottom_scroll_page");a.hide(),a.css({draggable:!0,position:"fixed",left:0,right:0,height:o.height,zIndex:999999}),n.css({top:0}),r.css({bottom:0});var d,i;a.on("dragenter",function(e){t(this).attr("id"),o.topId;return!0}),a.on("dragover",function(e){if(t("html,body").is(":animated"))return!0;var n=t("#container").scrollTop(),r=t(this).attr("id")==o.topId?-1:1,a=-1==r?d:i,l=t("#canvas").getBoundingClientRect().height,s=-1==r?n:t("#container").height()-(n+l);if(console.log("dragover "+r+" last="+a+" current="+s),void 0!=a&&a==s&&s>0){var c=n+50*r;t("html,body").animate({scrollTop:c},o.delay,"linear")}return-1==r?d=s:i=s,!0});var l=function(t){return a.hide(),timestamp=void 0,scrolltop=0,scrollbottom=0,!0};t(document).on("dragstart",function(t){return a.show(),!0}),t(document).on("dragend",l),a.on("mouseover",l)}}(jQuery);